{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "Exam",
	"patterns": [
		{
			"include": "#headertag"
		},
		{
			"include": "#math"
		},
		{
			"include": "#comment"
		},
		{
			"include": "#bang"
		},
		{
			"include": "#numtag"
		},
		{
			"include": "#correct-ans-tag"
		}
	],
	"repository": {
		"headertag": {
			"patterns": [
				{
					"begin": "^\\[",
					"end": "\\]",
					"patterns": [
						{
							"match": "(?i)section|cover|header",
							"name": "markup.bold.exam"
						},
						{
							"match": "(?i)title|subtitle|author|info|match|tf|mc|frq|text|latex|table",
							"name": "entity.name.section.exam"
						}
					]
				}
			]
		},
		"math": {
			"patterns": [
				{
					"begin": "((?<!\\\\)\\$)|(\\\\\\[)",
					"end": "((?<!\\\\)\\$)|(\\\\])",
					"name": "markup.italic.exam"
				}
			]
		},
		"comment": {
			"patterns": [
				{
					"begin": "//",
					"end": "$",
					"name": "comment.line.exam",
					"patterns": [
						{
							"include": "#math"
						},
						{
							"include": "#numtag"
						}
					]
				}
			]
		},
		"bang": {
			"patterns": [
				{
					"begin": "!(newpage|options|ans-options|gap|img|pkg|newcol|hrule|txt)",
					"end": "$",
					"beginCaptures": {
						"0": {
							"patterns": [
								{
									"name": "variable.function.exam",
									"match": "!(newpage|options|ans-options|gap|img|pkg|newcol|hrule|txt)"
								}
							]
						}
					},
					"patterns": [
						{
							"include": "#bangargs"
						}
					]
				}
			]
		},
		"numtag": {
			"name": "string.exam",
			"match": "\\s*{\\d*\\.?\\d+}"
		},
		"correct-ans-tag": {
			"name": "string.exam",
			"match": "{C}$"
		},
		"bangargs": {
			"name": "string.exam",
			"match": "{[^}]*}$"
		}
	},
	"scopeName": "text.exam"
}